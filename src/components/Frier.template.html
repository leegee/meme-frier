<style>
    :host { 
        box-sizing: border-box;
        display: block;
        line-height: 2em;
    }

    #chooseFile {
        display: none;
    }

    .group {
        float: left;
        margin-right: 1em;
    }
    .group:after {
        content: "";
        display: table;
        clear: both;
    }

    #meme {
        width: 100%;
        height: 80vh;
        object-fit: contain;
    }

    #controls {
        text-align: left;
        display: block;
        margin: 0;
        width: 100%;
        height: 20vh;
        padding: 0.5vh;
        background: #0003;
        margin-top: 1em;
    }

    #buttons button {
        margin: 1em;
    }
</style>

<input type="file" id="chooseFile">

<fried-meme id="meme" src=[[src]] saturate={{saturation}} contrast={{contrast}} brightness={{brightness}} hue-rotate={{hueRotate}}
    scale={{scale}} jpeg-quality={{jpegQuality}} total-jpegs={{totalJpegs}} use-overlay={{useOverlay}} add-emoji-before={{addEmojiBefore}}
    add-emoji-after={{addEmojiAfter}} noise={{noise}} global-composite-operation={{globalCompositeOperation}}
    blur-std-deviation={{blurStdDeviation}}></fried-meme>

<div id="controls" class="group">
    <ranged-input class="vertical" label="Saturation" value={{saturation}} min=0 max=4 step=0.1></ranged-input>

    <ranged-input class="vertical" label="Contrast" value={{contrast}} min=0 max=10 step=0.5></ranged-input>

    <ranged-input class="vertical" label="Brightness" value={{brightness}} min=0 max=10 step=0.5></ranged-input>

    <ranged-input class="vertical" label="Quality" value={{jpegQuality}} min=0 max=1 step=0.05></ranged-input>

    <ranged-input class="vertical" label="Noise" value={{noise}} min=0 max=1 step=0.01></ranged-input>

    <ranged-input class="vertical" label="Iterations" value={{totalJpegs}} min=1 max=50 step=1></ranged-input>

    <ranged-input class="vertical" label="Blur" value={{blurStdDeviation}} min="0" max="1" step="0.1"></ranged-input>

    <ranged-input class="vertical" label="Hue Rotate" value={{hueRotate}} min="-180" max="180" step="10"></ranged-input>

    <div class='group'>
        <label>Filter:</label> <select id="globalCompositeOperations"></select>
    </div>

    <div class='group'>
        <label>
            <input id="useOverlay" type="checkbox" checked="{{useOverlay}}">
            Use overlay
        </label>
    </div>

    <div class='group'>
        <label>
            <input id="addEmojiBefore" type="checkbox" checked="{{addEmojiBefore}}">
            Emoji before
        </label>
        <label>
            <input id="addEmojiAfter" type="checkbox" checked="{{addEmojiAfter}}">
            Emoji after
        </label>
    </div>

    <div class='group'>
        <button id="rotate45">Rotate</button>
        <button id="load">Load</button>
        <button id="save">Save</button>
    </div>
</div>
